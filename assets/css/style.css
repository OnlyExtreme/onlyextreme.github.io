:root {
    /* 加入了 EB Garamond */
    --font-serif: "EB Garamond", "Georgia", "Times New Roman", "Songti SC", serif;
    --font-sans: "Inter", "Helvetica Neue", "Arial", "PingFang SC", sans-serif;
    --bg-color: #ffffff;
    --text-color: #111;
    --gray-color: #888;
    --border-color: #f0f0f0; 

    --link-color: #111111;
    --link-hover-bg: #111111;
    --link-hover-text: #ffffff;

    --code-bg: #f9f9f9;
    --code-border: #eee;


}

/* =========================================
   Dark Mode (黑色模式适配)
   ========================================= */

/* 当用户的系统设置为深色模式时，覆盖以下变量 */
@media (prefers-color-scheme: dark) {
    :root {
        --bg-color: #111111;       /* 背景变深黑 (不是纯黑，护眼) */
        --text-color: #e0e0e0;     /* 文字变灰白 (避免纯白刺眼) */
        --gray-color: #a0a0a0;     /* 辅助灰色变亮一点 */
        --border-color: #333333;   /* 边框变深灰 */
        
        /* 新增：定义链接颜色变量，方便反转 */
        --link-color: #ffffff;
        --link-hover-bg: #ffffff;
        --link-hover-text: #000000;
        
        /* 新增：代码块背景 */
        --code-bg: #1c1c1c;
        --code-border: #333;
    }

    /* 图片降低亮度，防止亮瞎眼 */
    img {
        opacity: 0.85;
        transition: opacity 0.3s;
    }
    img:hover {
        opacity: 1;
    }
}

body {
    margin: 0;
    padding: 0;
    font-family: var(--font-sans);
    font-size: 16px;
    color: var(--text-color);
    background-color: var(--bg-color);
    line-height: 1.8;
    letter-spacing: 0.02em;
    overflow-x: hidden; 
}

/* --- 1. 顶部大标题 --- */
.site-header {
    max-width: 1600px;
    margin: 0 auto;
    padding: 60px 80px 20px 80px;
    text-align: left;
}
.site-title {
    font-family: var(--font-serif);
    font-size: 2.2em;
    font-weight: bold;
    color: var(--text-color);
    line-height: 1.2;
    letter-spacing: -0.5px;
    display: block;
    margin-bottom: 5px;
    text-decoration: none;
}
.site-subtitle { 
    font-family: var(--font-sans); 
    color: var(--gray-color); 
    font-size: 1em; 
    margin-left: 2px;
}

/* --- 2. 链接颜色 --- */
a {
    color: var(--link-color);
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: 3px;
    transition: all 0.2s;
}
a:visited { color: var(--link-color); }
a:hover {
    color: var(--link-hover-text);
    background-color: var(--link-hover-bg);
    text-decoration: none;
}

/* --- 3. 首页三栏布局 --- */
.home-container {
    display: grid;
    grid-template-columns: 220px 1fr 280px; 
    gap: 80px;
    max-width: 1600px;
    margin: 0 auto;
    padding: 40px 80px 120px 80px;
    align-items: start;
}

.home-container > main {
    min-width: 0;
    width: 100%; 
    overflow-wrap: break-word;
}

/* --- 分割线与侧边栏 --- */
.sidebar-left {
    position: sticky;
    top: 60px;
    border-right: 1px solid var(--border-color);
    padding-right: 40px;
    /* 左侧栏整体字体稍微改小一点点 */
    font-size: 0.9em; 
}

.sidebar-right {
    position: sticky;
    top: 60px;
    border-left: 1px solid var(--border-color);
    padding-left: 40px;
    /* 右侧栏整体字体稍微改小一点点 */
    font-size: 0.9em;
}

/* --- 左侧栏专用样式 (移除了HTML内联样式) --- */
.bio-intro {
    color: var(--gray-color); 
    margin-bottom: 30px;
    line-height: 1.6;
}
.bio-links {
    padding: 0;
    list-style: none;
    line-height: 1.6;
}
.bio-links li a {
    text-decoration: underline;
}

/* --- 右侧栏专用样式 (Link Collections) --- */
.collection-item {
    margin-bottom: 20px;
}
.collection-title {
    font-weight: bold;
    display: block;
    text-decoration: none; /* 标题默认不加下划线更干净 */
}
.collection-title:hover {
    text-decoration: underline;
    background: none; /* 侧边栏保持简洁，不一定非要黑底 */
    color: var(--link-hover-text);
}
.collection-desc {
    color: var(--gray-color);
    font-size: 0.9em; /* 比侧边栏默认字体再小一点 */
    margin-top: 4px;
    display: block;
}


/* --- 栏目内容样式 --- */
.col-header {
    font-family: var(--font-serif);
    font-size: 1.5em; 
    font-weight: bold;
    margin-top: 0;
    margin-bottom: 20px; /* 稍微增加一点间距 */
    color: var(--text-color);
}

.post-item { margin-bottom: 20px; }

a.post-title {
    font-family: var(--font-sans);
    font-weight: bold;
    font-size: 1.05em; /* 这里的字号恢复到正常，不受sidebar缩小影响 */
    display: block;
    margin-bottom: 1.5px;
    text-decoration: none;
    color: var(--text-color);
}
a.post-title:hover {
    text-decoration: underline;
    background: none;
    color: var(--text-color);
}
.post-meta { font-size: 0.9em; color: var(--gray-color); display: block; }

/* --- 文章阅读页 (单栏) --- */
.post-layout-container {
    max-width: 720px;
    margin: 0 auto;
    padding: 20px 20px 120px 20px;
    overflow-wrap: break-word; 
    min-width: 0;
}

.post-content {
    font-family: var(--font-sans);
    font-size: 1.0em;
    line-height: 1.9;
}
.post-content h2 { margin-top: 2em; margin-bottom: 1em; font-family: var(--font-sans); font-size: 1.5em;}
.post-content p { margin-bottom: 1.5em; text-align: justify; }

/* --- 元素防溢出 --- */
img {
    max-width: 100%;
    height: auto;
    display: block; 
    border: 1px solid var(--code-border);
}

pre {
    max-width: 100%;
    overflow-x: auto;
    background: var(--code-bg);
    padding: 15px;
    border: 1px solid var(--code-border);
}
/* =========================================
   代码样式控制区 (Code Styling)
   ========================================= */

/* 1. 行内代码 (Inline Code) - 比如文章里的 `print()` */
p code, li code {
    font-family: "CodeNewRoman", "Menlo", "Consolas", "Monaco", monospace; /* 字体 */
    font-size: 0.85em;              /* 字号：通常比正文小一点更精致 */
    background-color: var(--code-bg);      /* 背景色：浅灰 */
    color: #d14;                    /* 文字颜色：比如设为深红 (Jekyll默认风格) 或者 #333 */
    padding: 2px 5px;               /* 内边距：让背景稍微宽一点 */
    border-radius: 3px;             /* 圆角 */
    border: 1px solid var(--code-bg);         /* 细边框 */
}

/* 2. 大段代码块 (Code Blocks) - 比如 ```python ... ``` */
pre {
    font-family: "CodeNewRoman", "Menlo", "Consolas", "Monaco", monospace;
    font-size: 0.85em;               /* 字号 */
    line-height: 1.5;               /* 行高 */
    
    background: var(--code-bg);            /* 背景色：整块代码的背景 */
    /*color: #333;                    /* 代码文字颜色 */
    
    padding: 20px;                  /* 内边距：文字离边框的距离 */
    border: 1px solid var(--code-border);         /* 边框颜色 */
    border-radius: 5px;             /* 边框圆角 */
    
    margin: 30px 0;                 /* 上下外边距：代码块与正文的距离 */
    
    /* 必须保留：防止代码撑破页面 */
    max-width: 100%;
    overflow-x: auto;               /* 超出显示横向滚动条 */
    white-space: pre;               
}

/* 3. (可选) 代码高亮颜色微调 */
/* 如果你觉得 Jekyll 默认的高亮颜色太刺眼，可以在这里统一调整 */
pre code {
    border: none;           /* 去掉 pre 内部 code 的边框，避免双重边框 */
    background: transparent;/* 去掉 pre 内部 code 的背景 */
    padding: 0;
    color: inherit;
}

/* --- 响应式 --- */
@media (max-width: 1100px) {
    .home-container { grid-template-columns: 1fr; gap: 60px; }
    .sidebar-left, .sidebar-right { 
        position: static; 
        border: none; 
        padding: 0; 
        margin-bottom: 40px; 
        font-size: 1em; /* 手机端恢复正常字号，方便阅读 */
    }
    .site-header, .home-container { padding-left: 30px; padding-right: 30px; }
}